/*! media-credit media-credit-legacy-autocomplete.js 2018-02-21 1:07:53 AM */

jQuery(function(t){"use strict";var a=window.$mediaCredit||{};a.autoCompleteLegacy=function(e,i){var d=function(t){i.attr("value",""),i.attr("data-author-display",t),e.attr("value",t)};return e.autocomplete({autoFocus:!0,minLength:2,source:a.names||(a.names=_.map(a.id,function(t,a){return{id:a,value:t,label:t}})),select:function(t,a){return i.attr("value",a.item.id),i.attr("data-author-display",a.item.value),e.attr("value",a.item.value),!1},response:function(a,e){var n;0===e.content.length&&(n=t(this).val())!==i.attr("data-display-author")&&d(n)},open:function(){return t(this).autocomplete("widget").css("z-index",2e6),!1}}).click(function(){this.select()}).change(function(t){var n=e.val(),r=i.attr("data-author-id");a.noDefaultCredit&&""===n&&""===i.val()?(i.val(r),i.attr("data-author-display",a.id[r]),e.val("").attr("placeholder",i.attr("data-author-display")),t.stopImmediatePropagation(),t.preventDefault()):n!==i.attr("data-author-display")&&(d(n),t.stopImmediatePropagation(),t.preventDefault())})},a.data=t(".media-credit-hidden").data(),a.input=t("#attachments\\["+a.data.postId+"\\]\\[media-credit\\]"),a.hidden=t("#attachments\\["+a.data.postId+"\\]\\[media-credit-hidden\\]"),a.autoCompleteLegacy(a.input,a.hidden)});