/*! media-credit tinymce-noneditable.js 2018-02-21 1:07:53 AM */

!function(n){"use strict";var t,e,i={},o=function(n,t,e){if("string"!=typeof n)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+n;if(void 0===e)throw"no definition function for "+n;i[n]={deps:t,defn:e,instance:void 0}},r=function(n){var t=i[n];if(void 0===t)throw"module ["+n+"] was undefined";return void 0===t.instance&&function(n){for(var t=i[n],e=t.deps,o=t.defn,a=e.length,l=new Array(a),c=0;c<a;++c)l[c]=r(e[c]);var u=o.apply(null,l);if(void 0===u)throw"module ["+n+"] returned undefined";t.instance=u}(n),t.instance},a=o;t="global!tinymce.util.Tools.resolve",e=n.util.Tools.resolve,a(t,[],function(){return e}),a("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(n){return n("tinymce.PluginManager")}),a("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(n){return n("tinymce.util.Tools")}),a("tinymce.plugins.noneditable.Plugin",["tinymce.core.PluginManager","tinymce.core.util.Tools"],function(n,t){return n.add("noneditable",function(n){var e,i,o,r="contenteditable";function a(n){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(n)}}function l(e){var r=o.length,a=e.content,l=t.trim(i);function c(t){var e=arguments,i=e[e.length-2],o=i>0?a.charAt(i-1):"";if('"'===o)return t;if(">"===o){var r=a.lastIndexOf("<",i);if(-1!==r)if(-1!==a.substring(r,i).indexOf('contenteditable="false"'))return t}return'<span class="'+l+'" data-mce-content="'+n.dom.encode(e[0])+'">'+n.dom.encode("string"==typeof e[1]?e[1]:e[0])+"</span>"}if("raw"!==e.format){for(;r--;)a=a.replace(o[r],c);e.content=a}}e=" "+t.trim(n.getParam("noneditable_editable_class","mceEditable"))+" ",i=" "+t.trim(n.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var c=a(e),u=a(i);(o=n.getParam("noneditable_regexp"))&&!o.length&&(o=[o]),n.on("PreInit",function(){o&&n.on("BeforeSetContent",l),n.parser.addAttributeFilter("class",function(n){for(var t,e=n.length;e--;)t=n[e],c(t)?t.attr(r,"true"):u(t)&&t.attr(r,"false")}),n.serializer.addAttributeFilter(r,function(n){for(var t,e=n.length;e--;)t=n[e],(c(t)||u(t))&&(o&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(r,null))})})}),function(){}}),r("tinymce.plugins.noneditable.Plugin")()}(window.tinymce);