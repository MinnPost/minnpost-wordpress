var clone=function(){jQuery(".structured-clone").off("click").click(function(){var e=jQuery(this).closest(".saswp-placement-group").attr("data-id"),t=jQuery(document).find("#call_html_template_sdwp").html();nextId=jQuery(this).parents("tbody").find("tr").length,t=(t=t.replace(/\[0\]/g,"["+nextId+"]")).replace(/\[group-0\]/g,"[group-"+e+"]"),jQuery(this).parents("tr").after(t),removeHtml(),clone()})},removeHtml=function(){jQuery(".structured-delete").off("click").click(function(){1==jQuery(".saswp-placement-group").length?jQuery(this).parents("tbody").find("tr").length>1&&jQuery(this).parents("tr").remove():1==jQuery(this).parents("tbody").find("tr").length?jQuery(this).parents(".saswp-placement-group").remove():jQuery(this).parents("tr").remove()})};function taxonomyDataCall(){jQuery("select.ajax-output").change(function(){if("ef_taxonomy"==jQuery(this).closest("tr").find(".select-post-type").val()){parentSelector=jQuery(this).parents("td").find(".insert-ajax-select");var e=jQuery(this).val(),t=jQuery(this).attr("name").split("[")[1].replace("]",""),a=jQuery("#saswp_select_name_nonce").val();parentSelector.find(".ajax-output-child").remove(),parentSelector.find(".spinner").attr("style","visibility:visible"),parentSelector.children(".spinner").addClass("show");var s=saswp_app_object.ajax_url,r=jQuery(this).closest(".saswp-placement-group").attr("data-id");jQuery.ajax({url:s,method:"POST",data:{action:"create_ajax_select_sdwp_taxonomy",id:e,number:t,group_number:r,saswp_call_nonce:a},beforeSend:function(){},success:function(e){parentSelector.find(".ajax-output-child").remove(),parentSelector.children(".spinner").removeClass("show"),parentSelector.find(".spinner").attr("style","visibility:hidden").hide(),parentSelector.append(e),taxonomyDataCall()},error:function(e){console.log("Failed Ajax Request"),console.log(e)}})}})}jQuery(document).ready(function(e){e("#saswp-dayofweek-opens-time").timepicker({timeFormat:"H:i:s"}),e("#saswp-dayofweek-closes-time").timepicker({timeFormat:"H:i:s"}),e(".saswp-placement-or-group").on("click",function(t){t.preventDefault();var a="",s=(a=e(".saswp-placement-group").length,jQuery(document).find("#call_html_template_sdwp").html()),r="";r+='<table class="widefat saswp-placement-table" style="border:0px;">',r+=s=s.replace(/\[group-0\]/g,"[group-"+a+"]");var n="";n+='<div class="saswp-placement-group" name="data_group_array['+a+']" data-id="'+a+'">',n+='<span style="margin-left:10px;font-weight:600">Or</span>',n+=r+="</table>",n+="</div>",e(".saswp-placement-group[data-id="+(a-1)+"]").after(n),a++,clone(),removeHtml()});var t=e("#saswp_amp_select").find("table.widefat tr").html();e("body").append("<script type='template/html' id='call_html_template_sdwp'><tr class='toclone cloneya'>"+t+"</tr>"),clone(),removeHtml(),e(document).on("change",".select-post-type",function(){var t=e(this),a=e(this).parents("tr").find(".insert-ajax-select"),s=e(this).val(),r=[1,2,3,4];if("show_globally"!=s){e.each(r,function(a,s){e(t).closest("tr").find("td").eq(s).show()});var n=e(this).attr("class").split(" ")[2],l=jQuery("#saswp_select_name_nonce").val();a.find(".ajax-output").remove(),a.find(".ajax-output-child").remove(),a.find(".spinner").attr("style","visibility:visible"),a.children(".spinner").addClass("show");var o=saswp_app_object.ajax_url,i=jQuery(this).closest(".saswp-placement-group").attr("data-id");e.ajax({url:o,method:"POST",data:{action:"create_ajax_select_sdwp",id:s,number:n,group_number:i,saswp_call_nonce:l},beforeSend:function(){},success:function(e){a.find(".ajax-output").remove(),a.children(".spinner").removeClass("show"),a.find(".spinner").attr("style","visibility:hidden").hide(),a.append(e),taxonomyDataCall()},error:function(e){console.log("Failed Ajax Request"),console.log(e)}})}else e.each(r,function(a,s){e(t).closest("tr").find("td").eq(s).hide()})}),taxonomyDataCall(),e("#notAccessibleForFree").click(function(){e(this).is(":checked")?(e("#paywall_class_name").parents("tr").show(),e("#isAccessibleForFree").parents("tr").show()):(e("#paywall_class_name").parents("tr").hide(),e("#isAccessibleForFree").parents("tr").hide())})});