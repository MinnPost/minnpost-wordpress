{"version":3,"sources":["simple-comment-editing.js"],"names":["__","wp","i18n","_n","hooks","createHooks","jQuery","ready","$","sce_hooks","fn","simplecommentediting","document","sce","sce_delete_comment","element","ajax_params","siblings","off","parent","remove","post","ajax_url","action","comment_id","cid","post_id","pid","nonce","_wpnonce","response","comment_deleted_error","errors","on","alert","simple_comment_editing","removeClass","addClass","html","comment_deleted","show","setTimeout","slideUp","$this","find","attr","wpAjax","unserialize","e","preventDefault","css","fadeOut","prop","fadeIn","textarea","triggerHandler","val","textareas","allow_delete_confirmation","confirm_delete","confirm","textarea_val","comment_to_save","trim","allow_delete","empty_comment","ajax_save_params","comment_content","applyFilters","error","comment_text","_ajax_nonce","minutes","seconds","parseInt","can_edit","timer_text","trigger","console","timers","getTime","start","time","timer_seconds","timer_minutes","get_timer_text","timer_obj","Date","window","diff","timer","original_minutes","original_seconds","minute_to_seconds","text","Math","abs","days","hours","floor","set_comment_cookie","callback","date","toGMTString","name","value","path","Array","SCE_comment_scroll","event","comment","Epoch","replaceWith","location","pattern","test","hash","targetOffset","offset","scrollTop","animate","match","comment_url"],"mappings":"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","file":"simple-comment-editing.min.js","sourcesContent":["var __ = wp.i18n.__;\nvar _n = wp.i18n._n;\nvar sce_hooks = wp.hooks.createHooks();\njQuery( document ).ready( function( $ ) {\n\tvar sce = $.simplecommentediting = $.fn.simplecommentediting = function() {\n\t\tvar $this = this;\n\t\treturn this.each( function() {\n\t\t\tvar ajax_url = $( this ).find( 'a:first' ).attr( 'href' );\n\t\t\tvar ajax_params = wpAjax.unserialize( ajax_url );\n\t\t\tvar element = this;\n\n\t\t\t//Set up event for when the edit button is clicked\n\t\t\t$( element ).on( 'click', 'a:first', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$( '#sce-edit-comment-status' + ajax_params.cid ).removeClass().addClass( 'sce-status' ).css( 'display', 'none' );\n\t\t\t\t//Hide the edit button and show the textarea\n\t\t\t\t$( element ).fadeOut( 'fast', function() {\n\t\t\t\t\t$( element ).siblings( '.sce-textarea' ).find( 'button' ).prop( 'disabled', false );\n\t\t\t\t\t$( element ).siblings( '.sce-textarea' ).fadeIn( 'fast', function() {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Event: sce.timer.loaded\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * Event triggered after a commen's timer has been loaded\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * @since 1.3.0\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * @param jQuery Element of the comment\n\t\t\t\t\t\t */\n\t\t\t\t\t\tvar textarea = $( element ).siblings( '.sce-textarea' ).find( 'textarea:first' );\n\t\t\t\t\t\tjQuery( 'body' ).triggerHandler( 'sce.edit.show', [ textarea, ajax_params.cid ] )\n\t\t\t\t\t\ttextarea.focus();\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t//Cancel button\n\t\t\t$( element ).siblings( '.sce-textarea' ).on( 'click', '.sce-comment-cancel', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t//Hide the textarea and show the edit button\n\t\t\t\t$( element ).siblings( '.sce-textarea' ).fadeOut( 'fast', function() {\n\t\t\t\t\t$( element ).fadeIn( 'fast' );\n\t\t\t\t\t$( '#sce-edit-comment' + ajax_params.cid  + ' textarea' ).val( sce.textareas[ ajax_params.cid  ] );\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\tfunction sce_delete_comment( element, ajax_params ) {\n                $( element ).siblings( '.sce-textarea' ).off();\n\t\t\t\t$( element ).off();\n\n\t\t\t\t//Remove elements\n\t\t\t\t$( element ).parent().remove();\n\t\t\t\t$.post( ajax_url, { action: 'sce_delete_comment', comment_id: ajax_params.cid, post_id: ajax_params.pid, nonce: ajax_params._wpnonce }, function( response ) {\n\t\t\t\t\t\tif ( response.errors ) {\n\t\t\t\t\t\t\talert( simple_comment_editing.comment_deleted_error );\n\t\t\t\t\t\t\t$( element ).siblings( '.sce-textarea' ).on();\n\t\t\t\t\t\t\t$( element ).on();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$( '#sce-edit-comment-status' + ajax_params.cid ).removeClass().addClass( 'sce-status updated' ).html( simple_comment_editing.comment_deleted ).show();\n\t\t\t\t\t\t\tsetTimeout( function() { $( \"#comment-\" + ajax_params.cid ).slideUp(); }, 3000 ); //Attempt to remove the comment from the theme interface\n\t\t\t\t\t\t}\n\n\t\t\t\t}, 'json' );\n            };\n\n\t\t\t$( element ).siblings( '.sce-textarea' ).on( 'click', '.sce-comment-delete', function( e ) {\n    \t\t\te.preventDefault();\n\n    \t\t\tif ( simple_comment_editing.allow_delete_confirmation ) {\n\t    \t\t\tif( confirm( simple_comment_editing.confirm_delete ) ) {\n\t\t    \t\t\tsce_delete_comment( element, ajax_params );\n\t    \t\t\t}\n    \t\t\t} else {\n\t    \t\t\tsce_delete_comment( element, ajax_params );\n    \t\t\t}\n\n            } );\n\n\t\t\t//Save button\n\t\t\t$( element ).siblings( '.sce-textarea' ).on( 'click', '.sce-comment-save', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t$( element ).siblings( '.sce-textarea' ).find( 'button' ).prop( 'disabled', true );\n\t\t\t\t$( element ).siblings( '.sce-textarea' ).fadeOut( 'fast', function() {\n\t\t\t\t\t$( element ).siblings( '.sce-loading' ).fadeIn( 'fast' );\n\n\t\t\t\t\t//Save the comment\n\t\t\t\t\tvar textarea_val = $( element ).siblings( '.sce-textarea' ).find( 'textarea' ).val();\n\t\t\t\t\tvar comment_to_save = $.trim( textarea_val );\n\n\t\t\t\t\t//If the comment is blank, see if the user wants to delete their comment\n\t\t\t\t\tif ( comment_to_save == '' && simple_comment_editing.allow_delete == true  ) {\n\t\t\t\t\t\tif ( confirm( simple_comment_editing.empty_comment ) ) {\n    \t\t\t\t\t\tsce_delete_comment( element, ajax_params );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$( '#sce-edit-comment' + ajax_params.cid  + ' textarea' ).val( sce.textareas[ ajax_params.cid  ] ); //revert value\n\t\t\t\t\t\t\t$( element ).siblings( '.sce-loading' ).fadeOut( 'fast', function() {\n\t\t\t\t\t\t\t\t$( element ).fadeIn( 'fast' );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t* Event: sce.comment.save.pre\n\t\t\t\t\t*\n\t\t\t\t\t* Event triggered before a comment is saved\n\t\t\t\t\t*\n\t\t\t\t\t* @since 1.4.0\n\t\t\t\t\t*\n\t\t\t\t\t* @param int $comment_id The Comment ID\n\t\t\t\t\t* @param int $post_id The Post ID\n\t\t\t\t\t*/\n\t\t\t\t\tjQuery( 'body' ).triggerHandler( 'sce.comment.save.pre', [ ajax_params.cid, ajax_params.pid ] );\n\t\t\t\t\tvar ajax_save_params = {\n\t\t\t\t\t\taction: 'sce_save_comment',\n\t\t\t\t\t\tcomment_content: comment_to_save,\n\t\t\t\t\t\tcomment_id: ajax_params.cid,\n\t\t\t\t\t\tpost_id: ajax_params.pid,\n\t\t\t\t\t\tnonce: ajax_params._wpnonce\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t* JSFilter: sce.comment.save.data\n\t\t\t\t\t*\n\t\t\t\t\t* Event triggered before a comment is saved\n\t\t\t\t\t*\n\t\t\t\t\t* @since 1.4.0\n\t\t\t\t\t*\n\t\t\t\t\t* @param object $ajax_save_params\n\t\t\t\t\t*/\n\t\t\t\t\tajax_save_params = sce_hooks.applyFilters( 'sce.comment.save.data', ajax_save_params );\n\n\t\t\t\t\t$.post( ajax_url, ajax_save_params, function( response ) {\n\t\t\t\t\t\t$( element ).siblings( '.sce-loading' ).fadeOut( 'fast', function() {\n\t\t\t\t\t\t\t$( element ).fadeIn( 'fast', function() {\n\t\t\t\t\t\t\t\tif ( !response.errors ) {\n\t\t\t\t\t\t\t\t\t$( '#sce-comment' + ajax_params.cid ).html( response.comment_text ); //Update comment HTML\n\t\t\t\t\t\t\t\t\tsce.textareas[ ajax_params.cid  ] = $( '#sce-edit-comment' + ajax_params.cid  + ' textarea' ).val(); //Update textarea placeholder\n\n\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t* Event: sce.comment.save\n\t\t\t\t\t\t\t\t\t*\n\t\t\t\t\t\t\t\t\t* Event triggered after a comment is saved\n\t\t\t\t\t\t\t\t\t*\n\t\t\t\t\t\t\t\t\t* @since 1.4.0\n\t\t\t\t\t\t\t\t\t*\n\t\t\t\t\t\t\t\t\t* @param int $comment_id The Comment ID\n\t\t\t\t\t\t\t\t\t* @param int $post_id The Post ID\n\t\t\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t\t\tjQuery( 'body' ).triggerHandler( 'sce.comment.save', [ ajax_params.cid, ajax_params.pid ] );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t//Output error, maybe kill interface\n\t\t\t\t\t\t\t\t\tif ( response.remove == true ) {\n\t\t\t\t\t\t\t\t\t\t//Remove event handlers\n\t\t\t\t\t\t\t\t\t\t$( element ).siblings( '.sce-textarea' ).off();\n\t\t\t\t\t\t\t\t\t\t$( element ).off();\n\n\t\t\t\t\t\t\t\t\t\t//Remove elements\n\t\t\t\t\t\t\t\t\t\t$( element ).parent().remove();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$( '#sce-edit-comment-status' + ajax_params.cid ).removeClass().addClass( 'sce-status error' ).html( response.error ).show();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}, 'json' );\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t//Load timers\n\t\t\t/*\n\t\t\t1.  Use Ajax to get the amount of time left to edit the comment.\n\t\t\t2.  Display the result\n\t\t\t3.  Set Interval\n\t\t\t*/\n\t\t\t$.post( ajax_url, { action: 'sce_get_time_left', comment_id: ajax_params.cid, post_id: ajax_params.pid, _ajax_nonce: simple_comment_editing.nonce }, function( response ) {\n\t\t\t\t//Set initial timer text\n\t\t\t\tif( 'unlimited' === response.minutes && 'unlimited' === response.seconds ) {\n\t\t\t\t\t$( element ).show( 400 );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar minutes = parseInt( response.minutes );\n\t\t\t\tvar seconds = parseInt( response.seconds );\n\t\t\t\tvar timer_text = sce.get_timer_text( minutes, seconds );\n\n\t\t\t\t//Determine via JS if a user can edit a comment - Note that if someone were to finnagle with this, there is still a server side check when saving the comment\n\t\t\t\tvar can_edit = response.can_edit;\n\t\t\t\tif ( !can_edit ) {\n\t\t\t\t\t//Remove event handlers\n\t\t\t\t\t$( element ).siblings( '.sce-textarea' ).off();\n\t\t\t\t\t$( element ).off();\n\n\t\t\t\t\t//Remove elements\n\t\t\t\t\t$( element ).parent().remove();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Update the timer and show the editing interface\n\t\t\t\t$( element ).find( '.sce-timer' ).html( timer_text );\n\t\t\t\t$( element ).siblings( '.sce-textarea' ).find( '.sce-timer' ).html( timer_text );\n\n\t\t\t\t$( element ).show( 400, function() {\n\t\t\t\t\t/**\n\t\t\t\t\t* Event: sce.timer.loaded\n\t\t\t\t\t*\n\t\t\t\t\t* Event triggered after a commen's timer has been loaded\n\t\t\t\t\t*\n\t\t\t\t\t* @since 1.3.0\n\t\t\t\t\t*\n\t\t\t\t\t* @param jQuery Element of the comment\n\t\t\t\t\t*/\n\t\t\t\t\t$( element ).trigger( 'sce.timer.loaded', element );\n\t\t\t\t\tconsole.log( element );\n\t\t\t\t} );\n\n\t\t\t\t//Save state in textarea\n\t\t\t\tsce.textareas[ response.comment_id ] = $( '#sce-edit-comment' + response.comment_id + ' textarea' ).val();\n\n\t\t\t\t//Set interval\n\t\t\t\tsce.timers[ response.comment_id ] = {\n\t\t\t\t\tminutes: minutes,\n\t\t\t\t\tseconds: seconds,\n\t\t\t\t\tstart: new Date().getTime(),\n\t\t\t\t\ttime: 0,\n\t\t\t\t\ttimer: function() {\n\n\t\t\t\t\t\tvar timer_seconds = sce.timers[ response.comment_id ].seconds - 1;\n\t\t\t\t\t\tvar timer_minutes = sce.timers[ response.comment_id ].minutes;\n\t\t\t\t\t\tif ( timer_minutes <=0 && timer_seconds <= 0) {\n\n\t\t\t\t\t\t\t//Remove event handlers\n\t\t\t\t\t\t\t$( element ).siblings( '.sce-textarea' ).off();\n\t\t\t\t\t\t\t$( element ).off();\n\n\t\t\t\t\t\t\t//Remove elements\n\t\t\t\t\t\t\t$( element ).parent().remove();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( timer_seconds < 0 ) {\n\t\t\t\t\t\t\t\ttimer_minutes -= 1; timer_seconds = 59;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar timer_text = sce.get_timer_text( timer_minutes, timer_seconds );\n\t\t\t\t\t\t\t$( element ).find( '.sce-timer' ).html(  timer_text );\n\t\t\t\t\t\t\t$( element ).siblings( '.sce-textarea' ).find( '.sce-timer' ).html( timer_text );\n\t\t\t\t\t\t\t$( element ).trigger( 'sce.timer.countdown', element );\n\t\t\t\t\t\t\tsce.timers[ response.comment_id ].seconds = timer_seconds;\n\t\t\t\t\t\t\tsce.timers[ response.comment_id ].minutes = timer_minutes;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//Get accurate time\n\t\t\t\t\t\tvar timer_obj = sce.timers[ response.comment_id ];\n\t\t\t\t\t\ttimer_obj.time += 1000;\n\t\t\t\t\t\tvar diff = ( new Date().getTime() - timer_obj.start ) - timer_obj.time;\n\t\t\t\t\t\twindow.setTimeout( timer_obj.timer, ( 1000 - diff ) );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\twindow.setTimeout( sce.timers[ response.comment_id ].timer, 1000 );\n\n\n\t\t\t}, 'json' );\n\t\t} );\n\t};\n\tsce.get_timer_text = function( minutes, seconds ) {\n\t\tvar original_minutes = minutes;\n\t\tvar original_seconds = seconds;\n\t\tif (seconds < 0) { minutes -= 1; seconds = 59; }\n\t\t//Create timer text\n\t\tvar text = '';\n\t\tif (minutes >= 1) {\n\n\t\t\t// Get mniutes in seconds\n\t\t\tvar minute_to_seconds = Math.abs(minutes * 60);\n\t\t\tvar days = Math.floor(minute_to_seconds / 86400);\n\n\t\t\t// Get Days\n\t\t\tif( days > 0 ) {\n\t\t\t\t// Get days\n\t\t\t\ttext += days + \" \" + _n('day', 'days', days, 'simple-comment-editing');\n\t\t\t\ttext += \" \" + __('and', 'simple-comment-editing') + \" \";\n\t\t\t\tminute_to_seconds -= days * 86400;\n\t\t\t}\n\n\t\t\t// Get hours\n\t\t\tvar hours = Math.floor(minute_to_seconds / 3600) % 24;\n\t\t\tif( hours >= 0 ) {\n\t\t\t\tif( hours > 0 ) {\n\t\t\t\t\ttext += hours + \" \" + _n('hour', 'hours', hours, 'simple-comment-editing');\n\t\t\t\t\ttext += \" \" + __('and', 'simple-comment-editing') + \" \";\n\t\t\t\t}\n\t\t\t\tminute_to_seconds -= hours * 3600;\n\t\t\t}\n\n\t\t\t// Get minutes\n\t\t\tvar minutes = Math.floor(minute_to_seconds / 60) % 60;\n\t\t\tminute_to_seconds -= minutes;\n\t\t\tif( minutes > 0 ) {\n\t\t\t\ttext += minutes + \" \" + _n('minute', 'minutes', minutes, 'simple-comment-editing');\n\t\t\t}\n\n\t\t\t// Get seconds\n\t\t\tif ( seconds > 0 ) {\n\t\t\t\ttext += \" \" + __('and', 'simple-comment-editing') + \" \";\n\t\t\t\ttext += seconds + \" \" + _n('second', 'seconds', seconds, 'simple-comment-editing');\n\t\t\t}\n\t\t} else {\n\t\t\ttext += seconds + \" \" + _n('second', 'seconds', seconds, 'simple-comment-editing');\n\t\t}\n\t\t/**\n\t\t* JSFilter: sce.comment.timer.text\n\t\t*\n\t\t* Filter triggered before a timer is returned\n\t\t*\n\t\t* @since 1.4.0\n\t\t*\n\t\t* @param string comment text\n\t\t* @param string minute text,\n\t\t* @param string second text,\n\t\t* @param int    number of minutes left\n\t\t* @param int    seconds left\n\t\t*/\n\t\ttext = sce_hooks.applyFilters( 'sce.comment.timer.text', text,  _n('day', 'days', days, 'simple-comment-editing'), _n('hour', 'hours', hours, 'simple-comment-editing'), _n('minute', 'minutes', minutes, 'simple-comment-editing'), _n('second', 'seconds', seconds, 'simple-comment-editing'), days, hours, minutes, seconds );\n\t\treturn text;\n\t};\n\tsce.set_comment_cookie = function( pid, cid, callback ) {\n\t\t$.post( simple_comment_editing.ajax_url, { action: 'sce_get_cookie_var', post_id: pid, comment_id: cid, _ajax_nonce: simple_comment_editing.nonce\t }, function( response ) {\n\t\t\tvar date = new Date( response.expires );\n\t\t\tdate = date.toGMTString();\n\t\t\tdocument.cookie = response.name+\"=\"+response.value+ \"; expires=\" + date+\"; path=\" + response.path;\n\n\t\t\tif ( typeof callback == \"function\" ) {\n\t\t\t\tcallback( cid );\n\t\t\t}\n\n\t\t}, 'json' );\n\t};\n\n\tsce.timers = new Array();\n\tsce.textareas = new Array();\n\t$( '.sce-edit-button' ).simplecommentediting();\n\n\t$( '.sce-edit-button' ).on( 'sce.timer.loaded', SCE_comment_scroll );\n\n\t//Third-party plugin compatibility\n\t$( 'body' ).on( 'comment.posted', function( event, post_id, comment_id ) {\n\t\tsce.set_comment_cookie( post_id, comment_id, function( comment_id ) {\n\t\t\t$.post( simple_comment_editing.ajax_url, { action: 'sce_get_comment', comment_id: comment_id, _ajax_nonce: simple_comment_editing.nonce }, function( response ) {\n\n\t\t\t\t/**\n\t\t\t\t* Event: sce.comment.loaded\n\t\t\t\t*\n\t\t\t\t* Event triggered after SCE has loaded a comment.\n\t\t\t\t*\n\t\t\t\t* @since 1.3.0\n\t\t\t\t*\n\t\t\t\t* @param object Comment Object\n\t\t\t\t*/\n\t\t\t\t$( 'body' ).trigger( 'sce.comment.loaded', [ response ] );\n\n\t\t\t\t/*\n\t\t\t\tOnce you capture the sce.comment.loaded event, you can replace the comment and enable SCE\n\t\t\t\t$( '#comment-' + comment_id ).replaceWith( comment_html );\n\t\t\t\t$( '#comment-' + comment_id ).find( '.sce-edit-button' ).simplecommentediting();\n\t\t\t\t*/\n\n\t\t\t}, 'json' );\n\t\t} );\n\t} );\n\n\t//EPOCH Compability\n\t$( 'body' ).on( 'epoch.comment.posted', function( event, pid, cid ) {\n    \tif ( typeof pid == 'undefined' ) {\n\t    \treturn;\n    \t}\n\t\t//Ajax call to set SCE cookie\n\t\tsce.set_comment_cookie( pid, cid, function( comment_id ) {\n\t\t\t//Ajax call to get new comment and load it\n\t\t\t$.post( simple_comment_editing.ajax_url, { action: 'sce_epoch_get_comment', comment_id: comment_id, _ajax_nonce: simple_comment_editing.nonce }, function( response ) {\n\t\t\t\tcomment = Epoch.parse_comment( response );\n\t\t\t\t$( '#comment-' + comment_id ).replaceWith( comment );\n\t\t\t\t$( '#comment-' + comment_id ).find( '.sce-edit-button' ).simplecommentediting();\n\t\t\t}, 'json' );\n\t\t} );\n\t} );\n\t$( 'body' ).on( 'epoch.comments.loaded, epoch.two.comments.loaded', function( e ) {\n\t\tsetTimeout( function() {\n\t\t\t$( '.sce-edit-button' ).simplecommentediting();\n\t\t}, 1000 );\n\t} );\n\t$( 'body' ).on( 'epoch.two.comment.posted', function( event ) {\n    \t//Ajax call to set SCE cookie\n    \tcomment_id = event.comment_id;\n\t\tsce.set_comment_cookie( event.post, comment_id, function( comment_id ) {\n\t\t\t//Ajax call to get new comment and load it\n\t\t\t$.post( simple_comment_editing.ajax_url, { action: 'sce_epoch2_get_comment', comment_id: comment_id, _ajax_nonce: simple_comment_editing.nonce }, function( response ) {\n\t\t\t\t$( '#comment-' + comment_id ).find( 'p' ).parent().html( response );\n\t\t\t\t$( '#comment-' + comment_id ).find( '.sce-edit-button' ).simplecommentediting();\n\t\t\t} );\n\t\t} );\n\t} );\n} );\n\nfunction SCE_comment_scroll( e, element ) {\n\tvar location = \"\" + window.location;\n\tvar pattern = /(#[^-]*\\-[^&]*)/;\n\tif ( pattern.test( location ) ) {\n\t\tlocation = jQuery( \"\" + window.location.hash );\n\t\tif ( location.length > 0 ) {\n\t\t\tvar targetOffset = location.offset().top;\n\t\t\tjQuery( 'html,body' ).animate( {scrollTop: targetOffset}, 1 );\n\t\t}\n\t}\n}\n//Callback when comments have been updated (for wp-ajaxify-comments compatibility) - http://wordpress.org/plugins/wp-ajaxify-comments/faq/\nfunction SCE_comments_updated( comment_url ) {\n\tvar match = comment_url.match(/comment-(\\d+)/)\n\tif ( !match ) {\n\t\treturn;\n\t}\n\tvar comment_id = match[ 1 ];\n\tjQuery( '#comment-' + comment_id ).find( '.sce-edit-button' ).simplecommentediting();\n\n};"]}